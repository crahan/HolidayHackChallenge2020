# Operate the Santavator

**Difficulty**: :fontawesome-solid-star::fontawesome-solid-star::fontawesome-regular-star::fontawesome-regular-star::fontawesome-regular-star:<br/>
**Direct link**: [elevator website](https://elevator.kringlecastle.com/?challenge=elevator&id=62341aef-5fd2-4ea6-bdbd-58753ecf2393)<br/>
**Terminal hint**: [Unscape Tmux](../hints/h4.md)


## Objective

!!! question "Objective"
    Talk to Pepper Minstix in the entryway to get some hints about the Santavator.

!!! quote "Sparkle Redberry"
    Hey hey, Sparkle Redberry here!
    
    The Santavator is on the fritz. Something with the wiring is grinchy, but maybe you can rig something up?

    Here's the key! Good luck!

    ...

    With that key, you can look under the panel and see the Super Santavator Sparkle Stream (S4).

    To get to different floors, you'll need to power the various colored receivers.


## Hints

??? hint "Santavator Operations - Pepper Minstix"
    It's really more art than science. The goal is to put the right colored light into the receivers on the left and top of the panel.

??? hint "Santavator Bypass - Ribb Bonbowford"
    There may be a way to bypass the Santavator S4 game with the browser console...

## Solution

Sparkle Redberry gives you a key to open up the Santavator panel which will reveal the Super Santavator Sparkle Stream (S4) and the yellow, red, and green receivers. There's 2 main ways to solve this challenge,. Either find items and arrange them to color and direct the stream towards the receivers. Alternatively, you can use the [app.js](https://elevator.kringlecastle.com/app.js) JavaScript code to bypass the Santavator. This write-up focuses on the most basic solution to complete the challenge by using 2 items to activate a single floor.

Start by talking to Sparkle Redberry who will hand you a key to open the Santavator panel. You'll find a hex nut in front of the Santavator and a green light bulb in the top left corner of the Courtyard. Open the Santavator panel and use the hex nut to split the stream towards the red and green receivers. Next, use the green light to color the part of the stream going towards the green receiver. Close the panel back up, wait for the 2nd floor button to activate, and press it.

![Green receiver activated](../img/objectives/o4/green_activated.png)

Activating the green receiver will get you to the second floor where the talks are held. You can now find additional items like the red light bulb in the top right corner of the Talks Lobby. Since the hex nut already splits the stream towards the red and green receivers, adding the red light bulb in front of the red receiver will get you access to the Workshop and Roof. Below is an overview of where the different items are located.

| Item                | Floor | Room                                                       |
| :-------------------| :---- | ---------------------------------------------------------- |
| Candycane           | 1     | In front of the castle door on the Front Lawn              |
| Hex nut             | 1     | In front of the Santavator in the Entryway                |
| Hex nut             | 1     | Behind the table in the Dining Room (hidden from view)     |
| Santavator key      | 1     | Received from Sparkle Redberry                             |
| Green light bulb    | 1     | Top left corner of the Courtyard                           |
| Red light bulb      | 2     | Top right corner of the Talks Lobby                        |
| Yellow light bulb   | R     | Top left corner of the Netwars Room                        |
| Large marble        | 1.5   | In the Workshop                                            |
| Small marble        | R     | Bottom right corner of the Netwars Room (hidden from view) |
| Proxmark            | 1.5   | Wrapping Room                                              |
| Rubber ball         | 1.5   | Wrapping Room                                              |
| Elevator 1.5 button | 2     | Speaker UNPreparedness Room                                |
| Portals             | 2     | Dropped by Release the Snacken!                            |

!!! done "Answer"
    Use the hex nut found in front of the Santavator and the green light bulb found in the Courtyard to power the green receiver.

!!! note "Bypassing the Santavator"
    The alternative way to solving this is by reviewing the [app.js](https://elevator.kringlecastle.com/app.js) JavaScript code used by the challenge to find the different item keywords you can append to the challenge URL `tokens` request parameter. For example, adding `workshop-button` to the challenge URL `tokens` request parameter will add the `found` class to the `btn15img` img resource and show the missing Santavator button.

    ```javascript linenums="1"
    if (hasToken('workshop-button')) {
        btn15img.classList.add('found');
    }
    ```

    There's similar code and associated tokenv values for each item you can find around the castle (`candycane`, `nut`, `nut2`, `marble`, `marble2`, `yellowlight`, `greenlight`, `redlight`, `candycane`, `portals`, `ball`), the elevator key Sparkle Redberry gives you (`elevator-key`), the missing button to get to the Workshop Floor (`workshop-button`), and the token to activate *Santa Mode* and gain access to Santa's office (`besanta`).

    To use these, open the web browser's developer tools and append all required token values to the `tokens` request parameter for the embedded iFrame link. For example: `tokens=elevator-key,candycane,workshop-button,marble,marble2,nut,nut2,redlight,yellowlight,greenlight,portals,ball,besanta`.

    Full details can be found in the [Defeat Fingerprint Sensor](../objectives/o10.md) write-up.
